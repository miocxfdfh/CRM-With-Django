{% extends 'base.html' %}

{% block content%}
<div style="display: flex; justify-content: space-between; margin: 10px; ">
    <h4 style="padding:10px ;" >Welcome to the dashboard page <b>{{user|capfirst}}!</b> </h4>
    <a href="{% url 'create_record'%}" class="btn btn-outline-primary text-center">Create Record <i class="fa fa-plus" aria-hidden="true"></i></a>
</div>
<hr style="border: 1px solid black;">

{% include 'parts/alerts.html' %}

<div class="text-center search-bar">
  <form action="{% url 'search'%}" method="GET">
    <input type="search" name="query" placeholder="Write somthing here ......." class="form-control mr-sm-2">
    &nbsp;
    <button type="submit" class="btn btn-outline-primary w-100 btn-block p-2">Search</button>
  </form>
  
</div>
<hr style="border: 1px solid black;">

<div class="text-center">
    <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Frist name</th>
          <th scope="col">Last name</th>
          <th scope="col">Cateqory</th>
          <th scope="col">Phone</th>
          <th scope="col">Tall</th>
          <th scope="col">Wedight</th>
          <th scope="col">Address</th>
          <th scope="col">Date</th>
          <th scope="col">View</th>
        </tr>
      </thead>
      <tbody>
        {% if records %}
        {% for record in records%}
        <tr>
          <td scope="row">{{record.id}}</td>
          <td scope="row">{{record.first_name}}</td>
          <td scope="row">{{record.last_name}}</td>
          <td scope="row">{{record.Cateqory}}</td>
          <td scope="row">{{record.phone}}</td>
          <td scope="row">{{record.tall}}</td>
          <td scope="row">{{record.wedight}}</td>
          <td scope="row">{{record.address}}</td>
          <td scope="row">{{record.cteated_at}}</td>
          <td scope="row"><a href="{% url 'view' record.id%}" class=" btn btn-outline-primary btn-sm" >View</a></td>
        </tr>
        {% endfor%}
        {% else %}
        <tr>
          <td colspan="110" class="text-center">
            <div style="background-color: rgb(241, 241, 9);" class="alert alert-warning" role="alert">
             <h3> You don't have record yet.</h3>
            </div>
            </td>
          </tr>
        {% endif %}
      </tbody>
    </table>
</div>
<style>
  .search-bar input{
    margin: -10px;
  }
  .search-bar ::placeholder{
    font-size: larger;
  }
  .search-bar button{
    margin-bottom: 5px;
  }
</style>

{% endblock %}